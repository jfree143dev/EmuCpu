; SOURCE: test13.asm
; JOEL DAVIS
; READS IN A STRING
; PRINTS OUT THE STRING RIPPLING IT

ORG 1000
CR EQU D
LF EQU A
SETREG IP = BEGIN
SETREG SP = 5FFF
INPUT:  DB BLOCK FF {'0'}
BEGIN:  LEA DX,INPUT
        MOV CX,FF
	    INT 11
		ADD DX,CX
	    PUSH DX
		POP BP
		MOV AL,CR
		PUSH AX
		POP BX
		MOV [BP],BL
		MOV AL,LF
		PUSH AX
		POP BX
		MOV [BP+1],BL
		MOV AL,'$'
		PUSH AX
		POP BX
		MOV [BP+2],BL
        LEA DX,INPUT
RIPPLE: INT 10
        INC DX
        LOOP RIPPLE
	    HLT
