; SOURCE: test14.asm
; JOEL DAVIS
; INPUTS A STRING
; CONVERTS LOWER CASE TO UPPER CASE
; CONVERTS UPPER CASE TO LOWER CASE

ORG 1000
SETREG IP = BEGIN
SETREG SP = 5FFF
INPUT: DB BLOCK 14{0}
OUTPUT: DB A,D,24
ZZZZ: DB 5A
SPACE: DB 20
BEGIN:   LEA DX,INPUT
         MOV AX,14
		 XCHG CX,AX
         INT 11
	     PUSH DX
	     POP BP
FOR1:    MOV AL,[BP]
         CMP AL,SPACE
		 JE AROUND
	     CMP AL,ZZZZ
	     JLE TLCALL
	     CALL TOUPPER
	     JMP AROUND
 TLCALL: CALL TOLOWER
 AROUND: INC BP
		 LOOP FOR1
		 INT 10
         HLT
 TOUPPER: SUB AL,SPACE
		  MOV [BP],AL
		  RET
 TOLOWER: ADD AL,SPACE
		  MOV [BP],AL
		  RET
